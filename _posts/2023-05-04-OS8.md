---
layout : single
author_profile: true
sidebar: 
  nav: "sidebar-category"

title: "[운영체제] 메모리"

categories:
  - os
tags:
  - OS
  - 운영체제
---

## 프로세스와 메모리
- 프로세스의 동작 : 프로그램 카운터(PC)를 참조하여 수행될 명령을 메모리에서 읽어 CPU로 수행하는 것<br>
- 실행하고자 하는 프로세스가 어떤 메모리, 보조기억장치에 담겨있냐에 따라 속도가 달라짐. 적절한 비용으로 높은 성능을 내야 함<br>
- 기억장치 계층 구조 : 보조기억장치 -> 메모리 -> 캐시메모리 -> CPU(레지스터) <br>
	- 순서대로 접근속도가 빠르고, 비트당 기억장치 비용이 높음<br>
	- 역순서대로 용량이 커서 많은 데이터를 담을 수 있음<br><br>

- 메모리 관리<br>
	1. 메모리 호출 : 언제 새로운 프로세스를 메모리에 둘 것인가<br>
	2. 메모리 배치 : 다음 실행될 프로세스를 메모리 어느 곳에 둘 것인가<br>
	3. 메모리 교체 : 메모리가 꽉 찬 상태에서 새로운 프로세스를 메모리에 적재해야 한다면 어떤 프로세스를 제거할 것인가<br>
	4. 고정/동적 분할, 고정/유동 적재영역 등<br><br>

## 단일 프로그래밍 환경
- 하나의 프로세스만 메모리를 전용으로 사용하는 것 (초기 컴퓨터에서 주로 사용)<br>
- 프로세스는 하나의 연속된 블록으로 메모리에 할당<br>
	- 연속 메모리 할당<br><br>

- 단일 프로그램의 문제점<br>
	1. 메모리의 용량을 초과하는 프로세스는 실행 불가<br>
	2. 메모리 낭비 심함<br>
		- 지속적으로 사용되지 않는 프로세스도 메모리에 계속 적재<br>
	3. 주변장치 등 자원의 낭비 심함<br><br>

## 다중 프로그래밍 환경
- 여러 개의 프로세스가 메모리에 동시 적재되는 것<br>
- CPU 연산과 입출력을 동시에 함으로써 CPU 이용도와 시스템 처리량 증가 <br><br>

### 메모리 분할 (초기버전)
- 여러 프로세스를 메모리에 적재하기 위해 고안된 방법<br>
- 하나의 분할에 하나의 프로세스가 적재되는 방식<br>
- 종류 : 고정 분할, 동적 분할<br><br>

1. 고정분할<br>
	- 메모리를 여러 개의 고정된 크기의 영역으로 분할<br>
	- 프로세스 배치방법 1<br>
		- 분할영역마다 큐를 두고 큐에 들어온 프로세스는 해당 할당영역에만 적재<br>
		- 절대 번역 및 적재<br>
		- 효율성 낮음<br>
	- 프로세스 배치방법2<br>
		- 하나의 큐만 두고 큐에 들어온 프로세스는 어느 분할영역에든 적재<br>
		- 재배치 가능 번역 및 적재<br>
		- 복잡함<br>
	- 고정분할의 문제점 : 내부 단편화<br>
		- 프로세스의 크기가 적재된 분할영역의 크기보다 작아서 분할영역 내에 남게 되는 메모리 발생<br>
		- 수행할 프로세스의 크기를 미리 알고 그에 맞춰 고정분할을 해야하나 현실적이지 못함 <br><br>

2. 동적 분할<br>
	- 메모리의 분할경계가 고정되지 않음<br>
	- 각 프로세스에 필요한 만큼의 메모리만 할당<br>
	- 동적분할의 문제점 : 외부 단편화<br>
		- 메모리의 할당과 반환이 반복됨에 따라 작은 크기의 공백이 메모리 공간에 흩어져 생김<br>
	- 해결방법1 <br>
		- 통합 : 인접된 공백을 더 큰 하나의 공백으로 만들어 외부 단편화 해결<br>
	- 해결방법2<br>
		- 집약 : 메모리 내의 모든 공백을 하나로 모아 외부 단편화 해결<br><br>

3. 메모리 보호<br>
	- 프로세스가 다른 할당영역을 침범하지 않게 하는 것<br>
	- 하한-상한 또는 하한-크기 레지스터 쌍으로 제한<br>
	- 이 제한범위를 넘어 운영체제에 호출하려면 시스템 호출 이용<br><br>

## 메모리 배치기법
- 동적 분할 다중 프로그래밍에서 새로 반입된 프로그램이나 데이터를 메모리의 어느 위치에 배치할 것인가를 결정<br>
1. 최초 적합<br>
	- 프로세스가 적재될 수 있는 빈 공간중에서 가장 먼저 발견되는 곳을 할당 <br>
2. 후속 적합<br>
	- 최초 적합의 변형. 이전에 탐색이 끝난 그 다음 부분부터 시작하여 사용 가능한 빈 공간 중 가장 먼저 발견되는 곳을 할당<br>
- 최적 적합<br>
	- 필요한 공간을 제공할 수 있는 빈 공간 중 가장 작은 곳을 선택하여 할당<br>
	- 큰 빈 공간을 최대한 많이 남겨 놓기 위한 방법<br>
- 최악 적합<br>
	- 필요한 공간을 제공할 수 있는 빈 공간 중 가장 큰 곳을 선택하여 할당<br>
	- 작은 자투리가 남아 사용되지 못하는 공간이 발생한느 것을 최소화 하기 위한 방법<br>
